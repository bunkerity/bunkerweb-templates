{
  "id": "jellyfin",
  "name": "Jellyfin media streaming template with reverse proxy tuning",
  "settings": {
    "SERVER_NAME": "www.example.com",
    "AUTO_LETS_ENCRYPT": "yes",
    "USE_LETS_ENCRYPT_STAGING": "no",
    "USE_LETS_ENCRYPT_WILDCARD": "no",
    "LETS_ENCRYPT_CHALLENGE": "http",
    "LETS_ENCRYPT_DNS_PROVIDER": "",
    "LETS_ENCRYPT_DNS_PROPAGATION": "default",
    "LETS_ENCRYPT_DNS_CREDENTIAL_ITEM": "",
    "USE_CUSTOM_SSL": "no",
    "CUSTOM_SSL_CERT_PRIORITY": "file",
    "CUSTOM_SSL_CERT": "",
    "CUSTOM_SSL_KEY": "",
    "CUSTOM_SSL_CERT_DATA": "",
    "CUSTOM_SSL_KEY_DATA": "",
    "USE_REVERSE_PROXY": "yes",
    "REVERSE_PROXY_URL": "/",
    "REVERSE_PROXY_HOST": "http://jellyfin:8096",
    "REVERSE_PROXY_BUFFERING": "no",
    "REVERSE_PROXY_SEND_TIMEOUT": "300s",
    "REVERSE_PROXY_READ_TIMEOUT": "300s",
    "REVERSE_PROXY_URL_1": "/socket",
    "REVERSE_PROXY_HOST_1": "http://jellyfin:8096",
    "REVERSE_PROXY_WS_1": "yes",
    "MAX_CLIENT_SIZE": "20M",
    "USE_LIMIT_REQ": "yes",
    "LIMIT_REQ_RATE": "15r/s",
    "SERVE_FILES": "no",
    "USE_CLIENT_CACHE": "yes",
    "USE_GZIP": "yes",
    "COOKIE_FLAGS": "* SameSite=Lax",
    "PERMISSIONS_POLICY": "accelerometer=(), ambient-light-sensor=(), battery=(), bluetooth=(), camera=(), clipboard-read=(), display-capture=(), document-domain=(), encrypted-media=(), gamepad=(), geolocation=(), gyroscope=(), hid=(), idle-detection=(), interest-cohort=(), keyboard-map=(), local-fonts=(), magnetometer=(), microphone=(), payment=(), publickey-credentials-get=(), serial=(), sync-xhr=(), usb=(), xr-spatial-tracking=(), interest-cohort=()",
    "CONTENT_SECURITY_POLICY": "default-src https: data: blob: ; img-src 'self' https://* ; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' https://www.gstatic.com https://www.youtube.com blob:; worker-src 'self' blob:; connect-src 'self'; object-src 'none'; font-src 'self'"
  },
  "configs": ["modsec-crs/jellyfin_false_positives.conf"],
  "steps": [
    {
      "title": "Web service - Front service",
      "subtitle": "Point the template at your Jellyfin hostname(s) and TLS options.",
      "settings": [
        "SERVER_NAME",
        "AUTO_LETS_ENCRYPT",
        "USE_LETS_ENCRYPT_STAGING",
        "USE_LETS_ENCRYPT_WILDCARD",
        "LETS_ENCRYPT_CHALLENGE",
        "LETS_ENCRYPT_DNS_PROVIDER",
        "LETS_ENCRYPT_DNS_PROPAGATION",
        "LETS_ENCRYPT_DNS_CREDENTIAL_ITEM",
        "USE_CUSTOM_SSL",
        "CUSTOM_SSL_CERT_PRIORITY",
        "CUSTOM_SSL_CERT",
        "CUSTOM_SSL_KEY",
        "CUSTOM_SSL_CERT_DATA",
        "CUSTOM_SSL_KEY_DATA"
      ]
    },
    {
      "title": "Web service - Upstream service",
      "subtitle": "Direct the reverse proxy toward your Jellyfin backend and websocket endpoints.",
      "settings": [
        "USE_REVERSE_PROXY",
        "REVERSE_PROXY_HOST",
        "REVERSE_PROXY_URL",
        "REVERSE_PROXY_BUFFERING",
        "REVERSE_PROXY_HOST_1",
        "REVERSE_PROXY_URL_1",
        "REVERSE_PROXY_WS_1",
        "REVERSE_PROXY_SEND_TIMEOUT",
        "REVERSE_PROXY_READ_TIMEOUT"
      ]
    },
    {
      "title": "Streaming - Payloads and rate limiting",
      "subtitle": "Tune upload size and client rate limits for media delivery.",
      "settings": [
        "MAX_CLIENT_SIZE",
        "USE_LIMIT_REQ",
        "LIMIT_REQ_RATE",
        "SERVE_FILES"
      ]
    },
    {
      "title": "Security - Headers and CRS adjustments",
      "subtitle": "Enable client caching, compression, and custom security headers.",
      "settings": [
        "USE_CLIENT_CACHE",
        "USE_GZIP",
        "COOKIE_FLAGS",
        "PERMISSIONS_POLICY",
        "CONTENT_SECURITY_POLICY"
      ],
      "configs": ["modsec-crs/jellyfin_false_positives.conf"]
    }
  ]
}
